<div [class]="containerClasses()">
  <!-- Header (Mobile only - shows menu button) -->
  @if (isMobile()) {
    <header [class]="headerClasses()">
      <button hlmSidebarTrigger aria-label="Open sidebar menu"></button>

      <h1
        class="text-foreground flex-1 truncate text-center text-sm font-medium"
      >
        {{ conversationTitle() }}
      </h1>

      <!-- Spacer for centering -->
      <div class="w-7"></div>
    </header>
  }

  <!-- Scrollable Chat Area -->
  <div #scrollContainer [class]="scrollAreaClasses()">
    @if (isEmpty()) {
      <!-- Empty State - Centered -->
      <div class="flex min-h-full items-center justify-center">
        <div class="mx-auto w-full max-w-3xl">
          <app-empty-state (promptSelect)="handlePromptSelect($event)" />
        </div>
      </div>
    } @else {
      <!-- Message List (no internal scroll) -->
      <div class="mx-auto w-full max-w-3xl">
        <app-message-list
          [messages]="messages()"
          [loading]="isLoading()"
          [showAvatars]="true"
          (messageCopy)="handleMessageCopy($event)"
          (messageRegenerate)="handleMessageRegenerate($event)"
        />
      </div>
    }
  </div>

  <!-- Fixed Input Area -->
  <div [class]="inputAreaClasses()">
    <div class="mx-auto w-full max-w-3xl">
      <app-chat-input
        [disabled]="isLoading()"
        [placeholder]="'Message Angular AI Kit...'"
        [suggestions]="activeSuggestions()"
        (messageSend)="handleSendMessage($event)"
      />
    </div>
  </div>
</div>
