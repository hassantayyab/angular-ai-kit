<div [class]="containerClasses()">
  <!-- Header (Mobile only - shows menu button) -->
  @if (isMobile()) {
    <header [class]="headerClasses()">
      <button hlmSidebarTrigger aria-label="Open sidebar menu"></button>

      <h1
        class="flex-1 truncate text-center text-sm font-medium text-[var(--foreground)]"
      >
        {{ conversationTitle() }}
      </h1>

      <!-- Spacer for centering -->
      <div class="w-7"></div>
    </header>
  }

  <!-- Main Chat Area -->
  <div [class]="chatAreaClasses()">
    @if (isEmpty()) {
      <!-- Empty State -->
      <app-empty-state (promptSelect)="handlePromptSelect($event)" />
    } @else {
      <!-- Message List with Spartan UI -->
      <app-message-list
        [messages]="messages()"
        [loading]="isLoading()"
        [autoScroll]="true"
        [showAvatars]="true"
        [customClasses]="'flex-1'"
        (messageCopy)="handleMessageCopy($event)"
        (messageRegenerate)="handleMessageRegenerate($event)"
      />
    }
  </div>

  <!-- Input Area -->
  <div [class]="inputAreaClasses()">
    <div class="mx-auto w-full max-w-3xl">
      <app-chat-input
        [disabled]="isLoading()"
        [placeholder]="'Message Angular AI Kit...'"
        [suggestions]="activeSuggestions()"
        (messageSend)="handleSendMessage($event)"
      />
    </div>
  </div>
</div>
