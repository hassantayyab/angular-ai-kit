<div
  #scrollContainer
  [class]="containerClasses()"
  role="log"
  aria-live="polite"
  aria-atomic="false"
  aria-label="Chat messages"
>
  @if (messages().length > 0) {
    <!-- Messages -->
    <div [class]="messagesWrapperClasses()">
      @for (message of messages(); track message.id) {
        <app-message-bubble
          [message]="message"
          [showAvatar]="showAvatars()"
          [showActions]="false"
          (copied)="handleMessageCopy($event, message)"
          (regenerate)="handleMessageRegenerate(message)"
        />
      }

      <!-- Loading indicator -->
      @if (loading()) {
        <app-typing-indicator [showAvatar]="showAvatars()" />
      }
    </div>
  } @else {
    <!-- Empty state -->
    <div [class]="emptyStateClasses()" role="status" aria-live="polite">
      <p class="text-[var(--foreground-muted)]">
        {{ emptyMessage() }}
      </p>
    </div>
  }
</div>
